<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:rich="http://richfaces.org/rich">

<head></head>

<body>

<ui:debug hotkey="m" rendered="true" />

<ui:composition template="templates/template.xhtml">


	<ui:param name="pageTitle" value="Übersicht - OA-Netzwerk Manager" />

	<ui:define name="navigation">
		<a href="/oanadmin/">OA-Netzwerk</a>
	</ui:define>

	<ui:define name="menu">
		<div id="tasks">

		<div class="task"><img height="24" style="margin: 2px;" alt=""
			width="24" src="../images/24x24/new-package.gif" /><a
			href="repositories_main.xhtml">Repositorien verwalten</a></div>

		<div class="task"><img height="24" style="margin: 2px;" alt=""
			width="24" src="../images/24x24/setting.gif" /><a
			href="services_main.faces">Dienste verwalten</a></div>

		<div class="task"><img height="24" style="margin: 2px;" alt=""
			width="24" src="../images/24x24/setting.gif" /><a
			href="users_main.faces">Benutzer verwalten</a></div>

		<div class="task"><img height="24" style="margin: 2px;" alt=""
			width="24" src="../images/24x24/notepad.gif" /><a
			href="reports.faces">Reports</a></div>

		<div class="task"><img height="24" style="margin: 2px;" alt=""
			width="24" src="../images/24x24/notepad.gif" /><a
			href="livelog.faces">Live Log</a></div>
		</div>
	</ui:define>

	<ui:define name="content">

		<script type="text/javascript">
	function fold1() {
		if (document.getElementById)
			document.getElementById("ablaufplan").style.display = "none";
	}

	function unfold1() {
		if (document.getElementById)
			document.getElementById("ablaufplan").style.display = "inline";
	}

	function fold2() {
		if (document.getElementById)
			document.getElementById("aenderungsmenu").style.display = "none";
	}

	function unfold2() {
		if (document.getElementById)
			document.getElementById("aenderungsmenu").style.display = "inline";
	}

	function invisible() {
		if (document.getElementById)
			document.getElementById("Aendern").style.visibility = "hidden";
	}

	function visible() {
		if (document.getElementById)
			document.getElementById("Aendern").style.visibility = "visible";
	}
	
	function disableSelect(form,radio,select1,select2,select3)
	{
		var radio1 = document.getElementById("form:radio1:0").checked;
		var radio2 = document.getElementById("form:radio1:1").checked;
		var radio3 = document.getElementById("form:radio1:2").checked;	
		
		if(radio1)
		{
			document.getElementById(form+":"+select1).disabled = false;
			document.getElementById(form+":"+select2).disabled = true;
			document.getElementById(form+":"+select3).disabled = true;
		}

		if(radio2)
		{
			document.getElementById(form+":"+select1).disabled = true;
			document.getElementById(form+":"+select2).disabled = false;
			document.getElementById(form+":"+select3).disabled = true;
		}
		
		if(radio3)
		{
			document.getElementById(form+":"+select1).disabled = true;
			document.getElementById(form+":"+select2).disabled = true;
			document.getElementById(form+":"+select3).disabled = false;
		}
	}
	
</script>

		<div style="padding: 20px; background-color: #f5f9f4;">
		<div style="background-color: #f5f9f4;">


		<div id="aenderungsmenu" style="display:none">
		<h2>Änderungen an Dienst vornehmen</h2>
		
		Für eine erfolgreiche Änderung muss der zu ändernde Dienst sowie eine
		selbstgewählte Zeit- periode ausgewählt werden. <br />
		<br />



		<br />


		<h:form styleClass="form" id="form">
		
		<table>
			<tr>

			</tr>
			<tr>
				<td width="50%"> </td>
			</tr>
			<tr>
				<td width="40%"> </td>
			</tr>
			<tr>

				<td>
					<h:outputLabel value="Dienst auswählen   " />
					
					<h:selectOneMenu id="service" value="#{scheduling.chosenService}">
						<f:selectItems value="#{scheduling.services}" />
					</h:selectOneMenu> <br /><br /><br />  
				</td>
				<td></td>
			</tr>						
			<tr>
				<td colspan="2" style="padding-left:10px;">
					<h:selectOneRadio disabledClass="selectOneRadio_Disabled"
                      styleClass="selectOneRadio" id="radio0" layout="lineDirection" onclick="disableSelect('form','radio0','dayOfMonth', 'dayOfWeek', 'day');">
                      <f:selectItem itemValue="option11" itemLabel="regelmäßig1" />
                      <f:selectItem itemValue="option22" itemLabel="einmalig1" />
                    </h:selectOneRadio>
				</td>

			</tr>
			<tr>
				
				<td>
					<h:panelGroup>
						<h:panelGrid columns="8">

														
					<h:panelGrid columns="1" style="width:160px;">
						<h:selectOneRadio disabledClass="selectOneRadio_Disabled"
							styleClass="selectOneRadio" id="radio1" layout="pageDirection" onclick="disableSelect('form','radio1','dayOfMonth', 'dayOfWeek', 'day');">
							<f:selectItem itemValue="option1" itemLabel="monatlich, jeden" />
							<f:selectItem itemValue="option2" itemLabel="wöchentlich, jeden" />
							<f:selectItem itemValue="option3" itemLabel="jeden" />
						</h:selectOneRadio>
					</h:panelGrid>

					<h:panelGrid columns="1">
						<h:selectOneMenu id="dayOfMonth" value="#{scheduling.chosenDayOfMonth}"
						style=" width : 103px;">
							<f:selectItems value="#{scheduling.monthlyDays}" />
						</h:selectOneMenu>
						<h:selectOneMenu id="dayOfWeek" value="#{scheduling.chosenDayOfWeek}"
						style=" width : 105px;">
							<f:selectItem id="item2_1" itemLabel="Montag" itemValue="1" />
							<f:selectItem id="item2_2" itemLabel="Dienstag" itemValue="2" />
							<f:selectItem id="item2_3" itemLabel="Mittwoch" itemValue="3" />
							<f:selectItem id="item2_4" itemLabel="Donnerstag" itemValue="4" />
							<f:selectItem id="item2_5" itemLabel="Freitag" itemValue="5" />
							<f:selectItem id="item2_6" itemLabel="Samstag" itemValue="6" />
							<f:selectItem id="item2_7" itemLabel="Sonntag" itemValue="7" />
						</h:selectOneMenu>
						<h:selectOneMenu id="day" value="#{scheduling.chosenDay}"
						style=" width : 103px;">
							<f:selectItems value="#{scheduling.days}" />
						</h:selectOneMenu>
					</h:panelGrid>
					
					<h:panelGrid columns="1" style="width:60px;">

						<div style="height:55px"><h:outputText value="Tag" /></div>
					</h:panelGrid>
					

					</h:panelGrid>
					</h:panelGroup>	
					
								
				</td>
				
				<td>
					<h:panelGroup>
						<h:panelGrid columns="8">

					<h:panelGrid columns="1" style="width:100px;">
						<h:outputLabel  value="Repository" /><f:selectItem itemValue="option11" />

					</h:panelGrid>


					<h:panelGrid columns="1">
						<h:selectOneMenu id="dayOfMonth1" value="#{scheduling.chosenDayOfMonth}"
						style=" width : 103px;">
							<f:selectItems value="#{scheduling.monthlyDays}" />
						</h:selectOneMenu>
					</h:panelGrid>
					</h:panelGrid>
					</h:panelGroup>				
				</td>
			</tr>
			<tr>
				<td style="padding-left:15px;">
						<h:outputLabel  value="Uhrzeit" />
						<h:selectOneMenu id="hour" value="#{scheduling.chosenHour}">
							<f:selectItems value="#{scheduling.hours}" />
						</h:selectOneMenu> <br />
				</td>
				<td>
						<h:outputLabel value="Datum" />
						<t:inputDate id="date" type="date" popupCalendar="true" />
						
						<br />
						<h:outputLabel  value="Uhrzeit" /><br />
						<h:selectOneMenu id="hour2" value="#{scheduling.chosenHour}">
							<f:selectItems value="#{scheduling.hours}" />
						</h:selectOneMenu> <br />
				</td>
			</tr>
		</table>

		</h:form>
		

		<br />

		<div align="right"><h:selectBooleanCheckbox id="change_job"
			value="#{scheduling.update}" />bestehenden Job ändern</div>

		<br />
		<br />
		<br />

		<div align="right">
		<button name="Zurück" onclick="fold2(); unfold1(); visible()">Zurück</button>
		<h:commandButton type="submit" action="#{scheduling.storeJob}" value="Job anlegen" />
		</div>

		</div>

		<div id="ablaufplan" style="visibility: visible">
		<h2>Dienstablaufplan</h2>

		Auf dieser Seite können Veränderungen an der zeitlichen Arbeitsweise
		einzelner Dienste von OA-Netzwerk vorgenommen werden. <br />
		<br />
		<table id="jobs">
			<h:dataTable value="#{scheduling.jobList}" var="job"
				headerClass="pane-header" rowClasses="odd, even"
				style="border-collapse: collapse; border: 2px #bbb solid; width : 571px;">
				<h:column style="width: 30%; vertical-align: middle; height: 70px;">
					<f:facet name="header">
						<h:outputText value="Dienst" />
					</f:facet>
					<h:outputText value="#{job.serviceId}" />
				</h:column>

				<h:column style="width: 30%; vertical-align: middle; height: 70px;">
					<f:facet name="header">
						<h:outputText value="Typ" />
					</f:facet>
					<h:outputText value="#{job.name}" />
				</h:column>

				<h:column style="width: 30%; vertical-align: middle; height: 70px;">
					<f:facet name="header">
						<h:outputText value="Intervall" />
					</f:facet>
					<h:outputText value="#{job.interval}" />
				</h:column>

				<h:column style="width: 30%; vertical-align: middle; height: 70px;">
					<f:facet name="header">
						<h:outputText value="Zusatzinformationen" />
					</f:facet>
					<h:outputText value="#{job.info}" />
				</h:column>
        
                <h:column style="width: 30%; vertical-align: middle; height: 70px;">
                  <f:facet name="header">
                    <h:outputText value="Status" />
                  </f:facet>
                  <h:outputText value="#{job.status}" />
                </h:column>        
			</h:dataTable>
		</table>
		<div align="right">
		<button id="Aendern" onclick="fold1(); unfold2(); invisible()">Änderungen
		vornehmen</button>
		</div>
		</div>


		</div>
		</div>
	</ui:define>
</ui:composition>

</body>

</html>