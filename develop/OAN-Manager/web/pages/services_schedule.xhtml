<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk">

<head></head>

<body>

<ui:debug hotkey="m" rendered="true" />

<ui:composition template="templates/template.xhtml">


	<ui:param name="pageTitle" value="Übersicht - OA-Netzwerk Manager" />
	<!--	<ui:param name="customHead">-->
	<!---->
	<!--	</ui:param>-->

	<ui:define name="navigation">
		<a href="/oanadmin/">OA-Netzwerk</a> » <a href="services.xhtml">Dienste</a>
	</ui:define>

  	<ui:param name="menu_services_schedule" value="#{true}" /> 

	<ui:define name="content">

		<div style="padding: 20px; background-color: #f5f9f4;">
		<div style="background-color: #f5f9f4;">

		<div id="main" style="width:700px;" > <!-- style="display: none" -->



		<h2>Dienstablaufplan</h2>

		<h:outputText value="#{msg.services_schedule_description}" />
		<br />
		<br />
		<h:messages style="color:#33B300" /><br />

		<br />
		<t:div rendered="#{jobList.jobListEmpty}">
			<br /><b><h:outputText value="#{msg.services_schedule_no_jobs_planned}" /></b>
		</t:div>
        
        <t:div rendered="#{not jobList.jobListEmpty}">

        <table id="jobs" >
          <tr>
        	<td>
            <t:dataTable value="#{jobList.jobList}" var="row"
            headerClass="pane-header" rowClasses="odd, even"
            style="border-collapse: collapse; border: 1px #bbb solid; width : 800px;">
            
              <t:column style="width: 15%;text-align:center;vertical-align:middle;height: 50px;">
                <f:facet name="header">
                  <h:outputText value="Dienst" />
                </f:facet>
                  <h:outputText value="#{row.serviceId == 1 ? 'Harvester' : row.serviceId == 2 ? 'Aggregator' : row.serviceId == 3 ? 'Marker' : Unknown}" />
              </t:column>
                      
              <t:column style="width: 25%; vertical-align: middle; text-align: center; height: 50px;">
                <f:facet name="header">
                  <h:outputText value="Zeitpunkt/Intervall" />
                </f:facet>
                  <h:outputText value="#{row.interval}" />
              </t:column>
                      
              <t:column style="width: 25%; vertical-align: middle; text-align: center; height: 50px;">
                <f:facet name="header">
                  <h:outputText value="Zusatzinformationen" />
                </f:facet>
                  <h:outputText value="#{row.info}" />
              </t:column>
            
              <t:column style="width: 20%; vertical-align: middle; text-align: center; height: 50px;">
                <f:facet name="header">
                  <h:outputText value="Status" />
                </f:facet>
                  <h:outputText value="#{row.status}" />
              </t:column>
              
<!--				<t:column style="width: 10%; vertical-align: middle; text-align: center; height: 70px;">-->
<!--					<f:facet name="header">-->
<!--						<h:outputText value="Ändern/" />-->
<!--					</f:facet>-->
<!--					<a href="services_schedule_add.xhtml?jid=#{row.jobId}"><img-->
<!--						src="../images/16x16/document_edit.gif" /></a>-->
<!--				</t:column>-->
				<t:column style="width: 15%; vertical-align: middle; text-align: center; height: 70px;">
					<f:facet name="header">
						<h:outputText value="Löschen" />
					</f:facet>
					
					<a href="services_schedule.xhtml?jid=#{row.jobId}" onclick="if (!confirm('Sind sie sicher das sie diesen Job entfernen wollen?')) return false"><img
						src="../images/16x16/edit-delete.gif" /></a>
				</t:column>              
            </t:dataTable>            
			</td>
		  </tr>
        </table>
        </t:div>
        </div>
		</div>
		</div>
	</ui:define>
</ui:composition>

</body>

</html>