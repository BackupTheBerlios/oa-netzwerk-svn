<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
  xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:t="http://myfaces.apache.org/tomahawk">

<head></head>

<body>

<ui:composition template="templates/template.xhtml">

  <ui:param name="pageTitle" value="Dienste - OA-Netzwerk Manager" />

  <ui:define name="navigation">
    <a href="/oanadmin/">OA-Netzwerk</a> » <a href="services_main.xhtml">Dienste</a>
  </ui:define>

  <ui:param name="menu_services" value="#{true}" /> 

  <ui:define name="content">

  <f:view>
      Über dieses Portal ist die gesamte
      Dienstekette des OA-Netzwerks steuerbar und ermöglicht den Ablauf der Dienste zu überwachen oder mögliche
      Fehlersituationen schnell zu überblicken! Darüber hinaus lassen sich die OAN zugrundeliegenden Repositorien (Data
      Provider) verwalten. Zusätzliche Funktionen wie der Live-Service-Log oder aufbereitete Reports erleichtern den
      Einblick und geben einen Status über die Arbeit der OAN-Dienste.<br />
    <br />

      Status: <h:outputLabel for="harvesterStatus" value="#{services.harvesterStatus}">

    </h:outputLabel>

    <div style="padding: 20px; background-color: #f5f9f4;">
    <div style="background-color: #f5f9f4;">

    <h:form>
    <table width="80%" style="width: 80%; border-collapse: collapse; border: 1px #bbb solid;">

      <tr>
        <th class="pane-header">Status</th>
        <th class="pane-header">Dienst</th>
        <th class="pane-header">Letzter Durchlauf</th>
        <th class="pane-header">Dauer des letzten Durchlaufs</th>
        <th class="pane-header">Intervall</th>
        <th class="pane-header">Aktion</th>
      </tr>

      <tr class="odd">
        <td style="vertical-align: middle; text-align: center; height: 70px;">
       		<t:div rendered="#{services.harvesterStarted}">
				<img src="../images/24x24/status_green.png" width="18" height="18" title="Harvester ist bereit" />
            </t:div>
            <t:div rendered="#{services.harvesterBusy}">
				<img src="../images/24x24/status_yellow.png" width="18" height="18" title="Harvester arbeitet gerade" />
            </t:div>
       		<t:div rendered="#{not services.harvesterStarted and not services.harvesterBusy}">
				<img src="../images/24x24/status_red.png" width="18" height="18" title="Harvester-Dienst ist nicht gestartet" />
            </t:div>            
        </td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">Harvester</td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">vor 7 Tagen</td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">2h 15min</td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">wöchentlich</td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">
        
        <t:div rendered="#{not services.harvesterStarted and not services.harvesterBusy}">
        	<h:commandLink action="#{services.startHarvesterService}" title="Starten" >Starten</h:commandLink>
        </t:div> 
        
        <br />
        
        <t:div rendered="#{services.harvesterStarted or services.harvesterBusy}">
        	<h:commandLink action="#{services.stopHarvesterService}" title="Stoppen" >Stoppen</h:commandLink> 
        </t:div> 
        
        </td>
      </tr>
      <tr class="even">
        <td style="vertical-align: middle; text-align: center; height: 70px;">
       		<t:div rendered="#{services.aggregatorStarted}">
				<img src="../images/24x24/status_green.png" width="18" height="18" title="Aggregator ist bereit" />
            </t:div>
            <t:div rendered="#{services.aggregatorBusy}">
				<img src="../images/24x24/status_yellow.png" width="18" height="18" title="Aggregator arbeitet gerade" />
            </t:div>
       		<t:div rendered="#{not services.aggregatorStarted and not services.aggregatorBusy}">
				<img src="../images/24x24/status_red.png" width="18" height="18" title="Aggregator-Dienst ist nicht gestartet" />
            </t:div>            
        </td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">Aggregator</td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">vor 6 Tagen</td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">7min</td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">wöchentlich</td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">
        
        <t:div rendered="#{not services.aggregatorStarted and not services.aggregatorBusy}">
        	<h:commandLink action="#{services.startAggregatorService}" title="Starten" >Starten</h:commandLink>
        </t:div> 
        
        <br />
        
        <t:div rendered="#{services.aggregatorStarted or services.aggregatorBusy}">
        	<h:commandLink action="#{services.stopAggregatorService}" title="Stoppen" >Stoppen</h:commandLink> 
        </t:div> 
        
        </td>
      </tr>
      <tr class="even">
        <td style="vertical-align: middle; text-align: center; height: 70px;">
       		<t:div rendered="#{services.markerStarted}">
				<img src="../images/24x24/status_green.png" width="18" height="18" title="Marker ist bereit"/>
            </t:div>
            <t:div rendered="#{services.markerBusy}">
				<img src="../images/24x24/status_yellow.png" width="18" height="18" title="Marker arbeitet gerade" />
            </t:div>
       		<t:div rendered="#{not services.markerStarted and not services.markerBusy}">
				<img src="../images/24x24/status_red.png" width="18" height="18" title="Marker-Dienst ist nicht gestartet" />
            </t:div>            
        </td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">Marker</td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">vor 6 Tagen</td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">7min</td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">wöchentlich</td>
        <td style="vertical-align: middle; text-align: center; height: 70px;">
        
        <t:div rendered="#{not services.markerStarted and not services.markerBusy}">
        	<h:commandLink action="#{services.startMarkerService}" title="Starten" >Starten</h:commandLink>
        </t:div> 
        
        <br />
        
        <t:div rendered="#{services.markerStarted or services.markerBusy}">
        	<h:commandLink action="#{services.stopMarkerService}" title="Stoppen" >Stoppen</h:commandLink> 
        </t:div> 
        
        </td>
      </tr>

    </table>
    </h:form>


    </div>
    </div>

  </f:view>
  </ui:define>

</ui:composition>

</body>

</html>